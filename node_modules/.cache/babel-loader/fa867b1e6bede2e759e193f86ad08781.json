{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n/** @jsx jsx */\n\n\nimport React, { forwardRef, memo, useCallback, useMemo, useRef } from 'react';\nimport { jsx } from '@emotion/core';\nimport { usePlatformLeafEventHandler } from '@atlaskit/analytics-next';\nimport GlobalTheme from '@atlaskit/theme/components';\nimport { containerStyles as getContainerStyles, inputStyles as getInputStyles } from './styles';\nvar analyticsParams = {\n  componentName: 'textField',\n  packageName: \"@atlaskit/textfield\",\n  packageVersion: \"5.0.1\"\n};\nvar TextfieldWithMode = /*#__PURE__*/forwardRef(function (props, ref) {\n  var input = useRef(null);\n\n  var _props$appearance = props.appearance,\n      appearance = _props$appearance === void 0 ? 'standard' : _props$appearance,\n      _props$isCompact = props.isCompact,\n      isCompact = _props$isCompact === void 0 ? false : _props$isCompact,\n      _props$isDisabled = props.isDisabled,\n      isDisabled = _props$isDisabled === void 0 ? false : _props$isDisabled,\n      _props$isInvalid = props.isInvalid,\n      isInvalid = _props$isInvalid === void 0 ? false : _props$isInvalid,\n      _props$isRequired = props.isRequired,\n      isRequired = _props$isRequired === void 0 ? false : _props$isRequired,\n      _props$isReadOnly = props.isReadOnly,\n      isReadOnly = _props$isReadOnly === void 0 ? false : _props$isReadOnly,\n      _props$isMonospaced = props.isMonospaced,\n      isMonospaced = _props$isMonospaced === void 0 ? false : _props$isMonospaced,\n      width = props.width,\n      mode = props.mode,\n      elemAfterInput = props.elemAfterInput,\n      elemBeforeInput = props.elemBeforeInput,\n      testId = props.testId,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      onMouseDown = props.onMouseDown,\n      className = props.className,\n      otherProps = _objectWithoutProperties(props, [\"appearance\", \"isCompact\", \"isDisabled\", \"isInvalid\", \"isRequired\", \"isReadOnly\", \"isMonospaced\", \"width\", \"mode\", \"elemAfterInput\", \"elemBeforeInput\", \"testId\", \"onFocus\", \"onBlur\", \"onMouseDown\", \"className\"]);\n\n  var handleOnFocus = usePlatformLeafEventHandler(_objectSpread({\n    fn: function fn(event) {\n      onFocus && onFocus(event);\n    },\n    action: 'focused'\n  }, analyticsParams));\n  var handleOnBlur = usePlatformLeafEventHandler(_objectSpread({\n    fn: function fn(event) {\n      onBlur && onBlur(event);\n    },\n    action: 'blurred'\n  }, analyticsParams));\n  var handleOnMouseDown = useCallback(function (event) {\n    /** Running e.preventDefault() on the INPUT prevents double click behaviour */\n    // Sadly we needed this cast as the target type is being correctly set\n    var target = event.target;\n\n    if (target.tagName !== 'INPUT') {\n      event.preventDefault();\n    }\n\n    if (input && input.current && !isDisabled && document.activeElement !== input.current) {\n      input.current.focus();\n    }\n\n    onMouseDown && onMouseDown(event);\n  }, [onMouseDown, input, isDisabled]); // we want to keep a copy of the ref as well as pass it along\n\n  var setInputRef = useCallback(function (inputElement) {\n    input.current = inputElement;\n    var forwardedRef = ref;\n\n    if (!forwardedRef) {\n      return;\n    }\n\n    if (_typeof(forwardedRef) === 'object') {\n      // This is a blunder on the part of @types/react\n      // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/31065\n      // .current should be assignable\n      // @ts-ignore\n      forwardedRef.current = inputElement;\n    }\n\n    if (typeof forwardedRef === 'function') {\n      forwardedRef(inputElement);\n    }\n  }, [ref]);\n  var inputControlProps = {\n    'data-compact': isCompact ? isCompact : undefined,\n    'data-monospaced': isMonospaced ? isMonospaced : undefined,\n    'aria-invalid': isInvalid ? isInvalid : undefined\n  };\n  var containerControlProps = {\n    'data-disabled': isDisabled ? isDisabled : undefined,\n    'data-invalid': isInvalid ? isInvalid : undefined\n  };\n  var containerStyles = useMemo(function () {\n    return getContainerStyles(appearance, mode, width);\n  }, [appearance, mode, width]);\n  var inputStyle = useMemo(function () {\n    return getInputStyles(mode);\n  }, [mode]);\n  return (// https://product-fabric.atlassian.net/browse/DST-1970\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    jsx(\"div\", _extends({}, containerControlProps, {\n      onMouseDown: handleOnMouseDown,\n      \"data-ds--text-field--container\": true,\n      \"data-testid\": testId && \"\".concat(testId, \"-container\"),\n      css: containerStyles,\n      className: className\n    }), elemBeforeInput, jsx(\"input\", _extends({}, otherProps, inputControlProps, {\n      disabled: isDisabled,\n      readOnly: isReadOnly,\n      required: isRequired,\n      onBlur: handleOnBlur,\n      onFocus: handleOnFocus,\n      ref: setInputRef,\n      \"data-ds--text-field--input\": true,\n      \"data-testid\": testId,\n      css: inputStyle\n    })), elemAfterInput)\n  );\n});\nvar Textfield = /*#__PURE__*/forwardRef(function Textfield(props, ref) {\n  return jsx(GlobalTheme.Consumer, null, function (_ref) {\n    var mode = _ref.mode;\n    return jsx(TextfieldWithMode, _extends({}, props, {\n      mode: mode,\n      ref: ref\n    }));\n  });\n});\nTextfield.displayName = 'Textfield';\nexport default /*#__PURE__*/memo(Textfield);","map":{"version":3,"sources":["E:/HOCTAP/reactJS/simple-todo-app/node_modules/@atlaskit/textfield/dist/esm/text-field.js"],"names":["_extends","_typeof","_defineProperty","_objectWithoutProperties","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","React","forwardRef","memo","useCallback","useMemo","useRef","jsx","usePlatformLeafEventHandler","GlobalTheme","containerStyles","getContainerStyles","inputStyles","getInputStyles","analyticsParams","componentName","packageName","packageVersion","TextfieldWithMode","props","ref","input","_props$appearance","appearance","_props$isCompact","isCompact","_props$isDisabled","isDisabled","_props$isInvalid","isInvalid","_props$isRequired","isRequired","_props$isReadOnly","isReadOnly","_props$isMonospaced","isMonospaced","width","mode","elemAfterInput","elemBeforeInput","testId","onFocus","onBlur","onMouseDown","className","otherProps","handleOnFocus","fn","event","action","handleOnBlur","handleOnMouseDown","tagName","preventDefault","current","document","activeElement","focus","setInputRef","inputElement","forwardedRef","inputControlProps","undefined","containerControlProps","inputStyle","concat","css","disabled","readOnly","required","Textfield","Consumer","_ref","displayName"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/** @jsx jsx */\nimport React, { forwardRef, memo, useCallback, useMemo, useRef } from 'react';\nimport { jsx } from '@emotion/core';\nimport { usePlatformLeafEventHandler } from '@atlaskit/analytics-next';\nimport GlobalTheme from '@atlaskit/theme/components';\nimport { containerStyles as getContainerStyles, inputStyles as getInputStyles } from './styles';\nvar analyticsParams = {\n  componentName: 'textField',\n  packageName: \"@atlaskit/textfield\",\n  packageVersion: \"5.0.1\"\n};\nvar TextfieldWithMode = /*#__PURE__*/forwardRef(function (props, ref) {\n  var input = useRef(null);\n\n  var _props$appearance = props.appearance,\n      appearance = _props$appearance === void 0 ? 'standard' : _props$appearance,\n      _props$isCompact = props.isCompact,\n      isCompact = _props$isCompact === void 0 ? false : _props$isCompact,\n      _props$isDisabled = props.isDisabled,\n      isDisabled = _props$isDisabled === void 0 ? false : _props$isDisabled,\n      _props$isInvalid = props.isInvalid,\n      isInvalid = _props$isInvalid === void 0 ? false : _props$isInvalid,\n      _props$isRequired = props.isRequired,\n      isRequired = _props$isRequired === void 0 ? false : _props$isRequired,\n      _props$isReadOnly = props.isReadOnly,\n      isReadOnly = _props$isReadOnly === void 0 ? false : _props$isReadOnly,\n      _props$isMonospaced = props.isMonospaced,\n      isMonospaced = _props$isMonospaced === void 0 ? false : _props$isMonospaced,\n      width = props.width,\n      mode = props.mode,\n      elemAfterInput = props.elemAfterInput,\n      elemBeforeInput = props.elemBeforeInput,\n      testId = props.testId,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      onMouseDown = props.onMouseDown,\n      className = props.className,\n      otherProps = _objectWithoutProperties(props, [\"appearance\", \"isCompact\", \"isDisabled\", \"isInvalid\", \"isRequired\", \"isReadOnly\", \"isMonospaced\", \"width\", \"mode\", \"elemAfterInput\", \"elemBeforeInput\", \"testId\", \"onFocus\", \"onBlur\", \"onMouseDown\", \"className\"]);\n\n  var handleOnFocus = usePlatformLeafEventHandler(_objectSpread({\n    fn: function fn(event) {\n      onFocus && onFocus(event);\n    },\n    action: 'focused'\n  }, analyticsParams));\n  var handleOnBlur = usePlatformLeafEventHandler(_objectSpread({\n    fn: function fn(event) {\n      onBlur && onBlur(event);\n    },\n    action: 'blurred'\n  }, analyticsParams));\n  var handleOnMouseDown = useCallback(function (event) {\n    /** Running e.preventDefault() on the INPUT prevents double click behaviour */\n    // Sadly we needed this cast as the target type is being correctly set\n    var target = event.target;\n\n    if (target.tagName !== 'INPUT') {\n      event.preventDefault();\n    }\n\n    if (input && input.current && !isDisabled && document.activeElement !== input.current) {\n      input.current.focus();\n    }\n\n    onMouseDown && onMouseDown(event);\n  }, [onMouseDown, input, isDisabled]); // we want to keep a copy of the ref as well as pass it along\n\n  var setInputRef = useCallback(function (inputElement) {\n    input.current = inputElement;\n    var forwardedRef = ref;\n\n    if (!forwardedRef) {\n      return;\n    }\n\n    if (_typeof(forwardedRef) === 'object') {\n      // This is a blunder on the part of @types/react\n      // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/31065\n      // .current should be assignable\n      // @ts-ignore\n      forwardedRef.current = inputElement;\n    }\n\n    if (typeof forwardedRef === 'function') {\n      forwardedRef(inputElement);\n    }\n  }, [ref]);\n  var inputControlProps = {\n    'data-compact': isCompact ? isCompact : undefined,\n    'data-monospaced': isMonospaced ? isMonospaced : undefined,\n    'aria-invalid': isInvalid ? isInvalid : undefined\n  };\n  var containerControlProps = {\n    'data-disabled': isDisabled ? isDisabled : undefined,\n    'data-invalid': isInvalid ? isInvalid : undefined\n  };\n  var containerStyles = useMemo(function () {\n    return getContainerStyles(appearance, mode, width);\n  }, [appearance, mode, width]);\n  var inputStyle = useMemo(function () {\n    return getInputStyles(mode);\n  }, [mode]);\n  return (// https://product-fabric.atlassian.net/browse/DST-1970\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    jsx(\"div\", _extends({}, containerControlProps, {\n      onMouseDown: handleOnMouseDown,\n      \"data-ds--text-field--container\": true,\n      \"data-testid\": testId && \"\".concat(testId, \"-container\"),\n      css: containerStyles,\n      className: className\n    }), elemBeforeInput, jsx(\"input\", _extends({}, otherProps, inputControlProps, {\n      disabled: isDisabled,\n      readOnly: isReadOnly,\n      required: isRequired,\n      onBlur: handleOnBlur,\n      onFocus: handleOnFocus,\n      ref: setInputRef,\n      \"data-ds--text-field--input\": true,\n      \"data-testid\": testId,\n      css: inputStyle\n    })), elemAfterInput)\n  );\n});\nvar Textfield = /*#__PURE__*/forwardRef(function Textfield(props, ref) {\n  return jsx(GlobalTheme.Consumer, null, function (_ref) {\n    var mode = _ref.mode;\n    return jsx(TextfieldWithMode, _extends({}, props, {\n      mode: mode,\n      ref: ref\n    }));\n  });\n});\nTextfield.displayName = 'Textfield';\nexport default /*#__PURE__*/memo(Textfield);"]},"metadata":{},"sourceType":"module"}